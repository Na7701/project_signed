<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>





</head>
<body>

  <!-- 회원가입 기능 화면 -->
    <form action="">
      <h1>회원가입</h1>
      <div>email: <input type="email" id="signedUpEmail"> </div>  
      <div>password: <input type="password" id="signedUpPassword"> </div>
    </form>
    <button type="submit" id="signedUpBtn">회원가입하기</button>
    <button> 로그인하기</button>

<!-- 로그인 기능 화면 -->
    <form action="">
      <h1>로그인</h1>
      <div>email: <input type="email" id="signedInEmail"> </div>  
      <div>password: <input type="password" id="signedInPassword"> </div>
    </form>
    <button type="submit" id="signedInBtn">로그인</button>
    <button> 회원가입 하기</button>




    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyCDkOGm6_1dfAr9bjoDjhMUeNe5c_7FwIc",
        authDomain: "test1-23179.firebaseapp.com",
        projectId: "test1-23179",
        storageBucket: "test1-23179.appspot.com",
        messagingSenderId: "494795516736",
        appId: "1:494795516736:web:26735a1897bfad039968a5",
        measurementId: "G-7MKHR34XEM"
      };

    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);


      // console.log(app);
////////////////////회원가입 부분/////
      //추가된 기능들 현재 회원가입, 로그인 기능만 구현
      import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";

      const auth = getAuth();

      //sinin or sinup 변수 부분
      const sinIn = document.getElementById("signedInBtn")
      const sinUp = document.getElementById("signedUpBtn");




      ///sinUp 기능 구현 부분
      sinUp.addEventListener("click" , (event) => {
        event.preventDefault();

        const signedUpEmail = document.getElementById("signedUpEmail").value;
        const signedUpPassword = document.getElementById("signedUpPassword").value;
        
        
           createUserWithEmailAndPassword(auth, signedUpEmail, signedUpPassword)
              .then((userCredential) => {
                console.log(userCredential);
                // Signed in ...
                const user = userCredential.user;
                // ...
              })//로그인 정보가 잘못됬을경우
              .catch((error) => {
                console.log("error");

                const errorCode = error.code;
                const errorMessage = error.message;
                // ..
              });


              /////sinIN 기능 구현 부분
      });
      sinIn.addEventListener("click", (event) => {
        event.preventDefault();

        const signedInEmail = document.getElementById("signedInEmail").value;
        const signedInPassword = document.getElementById("signedInPassword").value;

        signInWithEmailAndPassword(auth, signedInEmail, signedInPassword)
              .then((userCredential) => {

              // Signed in ...
                  const user = userCredential.user;
                  console.log(userCredential);
              // ...

              }) //로그인 정보가 잘못됬을경우
              .catch((error) => {
                  console.log("Error!!!!")
                  const errorCode = error.code;
                  const errorMessage = error.message;
            });



      });

           


   

    </script>

    


    
   


</body>
</html>